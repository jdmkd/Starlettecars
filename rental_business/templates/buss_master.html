{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>{% block title%}Home{% endblock %}</title>
    
    
    {% block linkcss %}
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
    href="{% static 'css/swiperjs/swiper-bundle.min.css' %}"
    rel="stylesheet"
    />
    
    {% comment %}
    <link
    rel="stylesheet"
    href="https://unpkg.com/swiper@7/swiper-bundle.min.css"
    />
    {% endcomment %}
      <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        />
        {% comment %} <link rel="stylesheet" href=" {% static 'css/kaiadmin.min.css' %} " /> {% endcomment %}
        <link rel="stylesheet" href=" {% static 'css/style.css' %} " />
        <link rel="stylesheet" href=" {% static 'css/uiconstyle.css' %} " />
        <link rel="stylesheet" href=" {% static 'css/popup_messages.css' %} " />
        {% comment %}
        <script src="https://cdn.tailwindcss.com"></script>
        {% endcomment %}
        <link href="{% static 'css/tailwind-output.css' %}" rel="stylesheet" />
        {% comment %}
        <link href=" {% static 'css/tailx.css' %}" rel="stylesheet" />
        {% endcomment %} 
    {% endblock linkcss %}
  </head>

  <body class="bg-gray-50">
    <style>
      a {
        text-decoration: none;
        /* text-transform: none; */
      }
      .home a p {
        text-decoration: none;
        text-transform: none;
      }
      .home a:hover {
        background: #ffea00;
        /* #f9d806 */
        /* #ffee80 */
      }

      {% comment %} sidebar styling {% endcomment %}
      .sidebar {
    
        {% comment %} -webkit-clip-path: polygon(0 0, 0% 0, 0% 100%, 0 100%); {% endcomment %}
      }
      
      .sidebar.active {
        {% comment %} clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%); {% endcomment %}
      }
      
      .sidebar.hidden {
        {% comment %} transform: translateX(-100%); /* Sidebar is hidden */ {% endcomment %}
        {% comment %} clip-path: polygon(0 0, 0% 0, 0% 100%, 0 100%); {% endcomment %}
      }
      
      .rotate {
        transform: rotate(180deg);
        {% comment %} transition: transform 0.9s ease-in-out; {% endcomment %}
      }

      @media (max-width: 768px) {
        nav {
          {% comment %} transition: transform 0.8s ease-in-out, clip-path 0.8s ease-in-out; {% endcomment %}
        }
        nav div {
          {% comment %} transition: transform 0.8s ease-in-out, clip-path 0.8s ease-in-out; {% endcomment %}
        }
        
        .sidebar {
          transform: translateX(-100%);
          {% comment %} transition: transform 5s ease-in-out; {% endcomment %}
          transition: transform 0.9s ease-in-out, clip-path 0.9s ease-in-out;
          clip-path: polygon(0 0, 0% 0, 0% 100%, 0 100%);
        }
        
        .sidebar.active {
          transform: translateX(0); /* Sidebar is fully visible */
          clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
        }
        
        .sidebar.hidden {
          transform: translateX(-100%); /* Sidebar is hidden */
          clip-path: polygon(0 0, 0% 0, 0% 100%, 0 100%);
        }
        
      }
    </style>

    {% block header %}
      <header class="header !text-white bg-black">
        <div id="menu-btn" class="fas fa-bars text-white"></div>
        <h1 class="text-4xl font-semibold !text-white">Service Provider</h1>

        <div class="flex justify-end items-center gap-[5rem]">
          <div class="flex justify-end">
            {% block navbar %} 
              <nav class="navbar block mt-0 !left-0 bg-black">
                <a href="/rental_business" class="!text-white">home</a>
                <a href="/" class="!text-white">Starlette</a>
              </nav>
              {% comment %} <div class="mx-2 px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between" >
                <div class="flex items-center space-x-4">
                  <div class="relative">
                    <input
                      type="text"
                      placeholder="Search..."
                      class="pl-10 pr-4 py-3 text-xl rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                    <i
                      class="fas fa-search absolute left-3 top-6 text-gray-400"
                    ></i>
                  </div>
                </div>
              </div> {% endcomment %}
            {% endblock navbar %}
          </div>

          {% block action %}
          <div class="action">
            <div class="profile" onclick="menuToggle();">
              {% if buss_udata.buss_updProfile_photo %}
              <img src="/media/{{ buss_udata.buss_updProfile_photo }}" alt="" />
              {% else %}
              {% comment %} <img
                src="{% static 'image/profileicons/profile-user.png' %}"
                class="!text-white"
                alt="user profile"
              /> {% endcomment %}
              <?xml version="1.0" ?>
              <svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                <path fill="#dfdfdf" d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c39.77 0 72 32.24 72 72S295.8 272 256 272c-39.76 0-72-32.24-72-72S216.2 128 256 128zM256 448c-52.93 0-100.9-21.53-135.7-56.29C136.5 349.9 176.5 320 224 320h64c47.54 0 87.54 29.88 103.7 71.71C356.9 426.5 308.9 448 256 448z"/>
              </svg>
              {% endif %}
            </div>

            <div class="umenu">
              {% if request.session.buss_log_user %}
              <h3>Welcome, {{buss_udata.buss_fname}}!</h3>
              {% else %}
              <h3>My Profile</h3>
              {% endif %}
              <ul>
                {% if request.session.buss_log_user %}
                <li>
                  <img src="{% static 'image/profileicons/account.png' %}" /><a
                    href="{% url 'buss_profile'%}"
                    >My Profile</a
                  >
                </li>

                <li class="group">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="car-icon mx-3 transition-transform duration-300 ease-in-out group-hover:rotate-6 group-hover:fill-gray-800"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    version="1.1"
                    width="22"
                    height="22"
                    viewBox="0 0 256 256"
                    xml:space="preserve"
                  >
                    <defs></defs>
                    <g
                      style="
                        stroke: none;
                        stroke-width: 0;
                        stroke-dasharray: none;
                        stroke-linecap: butt;
                        stroke-linejoin: miter;
                        stroke-miterlimit: 10;
                        fill: #696969;
                        fill-rule: nonzero;
                        opacity: 1;
                      "
                      transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"
                    >
                      <path
                        d="M 84.99 37.498 l -16.835 -2.571 c -0.428 -0.065 -0.824 -0.277 -1.115 -0.597 l -8.952 -9.805 c -1.115 -1.222 -2.703 -1.922 -4.357 -1.922 H 25.005 c -1.991 0 -3.833 0.993 -4.928 2.656 l -5.862 8.905 c -0.234 0.356 -0.586 0.625 -0.992 0.759 l -9.169 3.022 C 1.629 38.744 0 40.996 0 43.548 v 9.404 c 0 3.254 2.647 5.9 5.9 5.9 h 3.451 c 0.969 4.866 5.269 8.545 10.416 8.545 s 9.447 -3.679 10.416 -8.545 h 30.139 c 0.969 4.866 5.27 8.545 10.416 8.545 s 9.446 -3.679 10.415 -8.545 H 84.1 c 3.254 0 5.9 -2.646 5.9 -5.9 v -9.622 C 90 40.394 87.893 37.941 84.99 37.498 z M 19.767 63.397 c -3.652 0 -6.623 -2.971 -6.623 -6.622 c 0 -3.652 2.971 -6.623 6.623 -6.623 s 6.623 2.971 6.623 6.623 C 26.39 60.427 23.419 63.397 19.767 63.397 z M 70.738 63.397 c -3.652 0 -6.623 -2.971 -6.623 -6.622 c 0 -3.652 2.971 -6.623 6.623 -6.623 c 3.651 0 6.622 2.971 6.622 6.623 C 77.36 60.427 74.39 63.397 70.738 63.397 z M 86 52.952 c 0 1.048 -0.853 1.9 -1.9 1.9 h -2.922 c -0.908 -4.941 -5.239 -8.7 -10.439 -8.7 s -9.531 3.759 -10.44 8.7 H 30.207 c -0.909 -4.941 -5.24 -8.7 -10.44 -8.7 s -9.531 3.759 -10.439 8.7 H 5.9 c -1.048 0 -1.9 -0.853 -1.9 -1.9 v -9.404 c 0 -0.822 0.524 -1.547 1.306 -1.805 l 9.168 -3.021 c 1.26 -0.415 2.354 -1.253 3.083 -2.36 l 5.861 -8.905 c 0.353 -0.536 0.946 -0.855 1.587 -0.855 H 53.73 c 0.532 0 1.044 0.226 1.403 0.62 l 8.952 9.805 c 0.907 0.993 2.139 1.652 3.467 1.854 l 16.834 2.571 C 85.321 41.595 86 42.385 86 43.331 V 52.952 z"
                        style="
                          stroke: none;
                          stroke-width: 1;
                          stroke-dasharray: none;
                          stroke-linecap: butt;
                          stroke-linejoin: miter;
                          stroke-miterlimit: 10;
                          fill: rgb(0, 0, 0);
                          fill-rule: nonzero;
                          opacity: 1;
                        "
                        transform=" matrix(1 0 0 1 0 0) "
                        stroke-linecap="round"
                      />
                    </g>
                  </svg>
                  <a href="{% url 'registered_vehicles' %}">
                    Registered Vehicles
                  </a>
                </li>
                <li>
                  <img src="{% static 'image/profileicons/log-out.png' %}" /><a
                    href="{% url 'add_new_vehicle' %}"
                    >Add your vehicle</a
                  >
                </li>
                <li>
                  <img src="{% static 'image/profileicons/inbox.png' %}" /><a
                    href="{% url 'vehicle_booking_approval' %}"
                    >Booking Approval</a
                  >
                </li>
                <li id="login-btn">
                  <img src="{% static 'image/profileicons/log-out.png' %}" /><a
                    href="{% url 'buss_logout' %}"
                    >Logout</a
                  >
                </li>
                {% else %}
                <li id="login-btn" class="login-btn">
                  <img src="{% static 'image/profileicons/edit.png' %}" /><a
                    href="{% url 'login_and_registration' %}"
                    >Login or Reg</a
                  >
                </li>
                {% endif %} 

                
                
              </ul>
            </div>
          </div>
          {% endblock action %}
        </div>
      </header>
    {% endblock header %}





    <section class="">
      {% if messages %} 
        {% for message in messages %} 

          {% if message.message == "Buss Account Login successful!" %} 
            {% if 'login_success' in message.tags %} 
              {% include 'components/login_success.html' %}
            {% endif %} 

          {% elif message.message == "Buss Account Registration successful!" %} 
            {% if 'registration_success' in message.tags %} 
              {% include 'components/registration_success.html' %} 
            {% endif %} 
          {% endif %} 


          {% comment %} 
            {% if message.tags == "success" %} 
              {% if message.message == "Login successful!" %} 
                {% include 'components/login_success.html' %} 
              {% elif message.message == "Registration successful!" %} 
                {% include 'components/registration_success.html' %} 
              {% endif %} {% elif message.tags == "error" %} 
            {% elif message.tags == "info" %} 
            {% endif %} 
          {% endcomment %} 
        {% endfor %} 
      
      {% endif %} 
      {% comment %} {% include
      'components/login_success.html' %} {% endcomment %} {% comment %} {%
      include 'components/registration_success.html' %} {% endcomment %}
    </section>






    {% block homeimage %} 
    
    {% endblock homeimage %} 
    



    {% block main_container %}

      <div class="relative min-h-screen top-[5rem] md:top-[4rem] flex flex-col">
        <div class="flex-1 flex">
          <!-- Mobile Navigation Button -->
            {% comment %} <button
                id="nav-toggle"
                class="absolute top-4 left-4 z-50 text-white bg-black p-2 rounded-md md:hidden"
              >
              <!-- Three-line icon (Hamburger) -->
              <svg
                id="menu-icon"
                class="w-6 h-6"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                stroke-width="2"
              >
                <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
              <!-- Cross icon (Hidden by default) -->
              <svg
                id="close-icon"
                class="hidden w-6 h-6"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                stroke-width="2"
              >
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button> {% endcomment %}
            

          <!-- Sidebar Navigation -->
          {% block left_sidebar_main %}
            <nav class=" shadow-sm" role="navigation" aria-labelledby="main-sidebar">
              {% comment %} <button id="sidebar-btn" class="fas fa-bars text-white text-[2.5rem] font-semibold lg:hidden" aria-label="Toggle Sidebar"></button> {% endcomment %}
              <div class=" fixed flex items-start">
                <ul class="sidebar hidden bg-black w-[23rem] h-screen overflow-hidden text-2xl z-20 ">
                  {% comment %} <button id="sidebar-btn" class="fas fa-bars flex items-end px-4 py-3 text-[2.5rem] text-white font-semibold lg:hidden" aria-label="Toggle Sidebar"></button>
                  {% endcomment %}
                  
                  <li class="border-b border-gray-500/70">
                    <a
                      href="/rental_business"
                      class="text-gray-300 hover:bg-gray-700 hover:text-white group flex items-center px-4 py-3 font-medium rounded-md"
                    >
                      <svg
                        class="text-gray-400 group-hover:text-gray-300 mr-5 h-10 w-10"
                        viewBox="0 0 20 20"
                        fill="currentColor"
                      >
                        <path
                          d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"
                        />
                      </svg>
                      Dashboard
                    </a>
                  </li>
                  {% if request.session.buss_log_user %}
                      <li class="border-b border-gray-500/70">
                        <a
                          href="{% url 'registered_vehicles' %}"
                          class="text-gray-300 hover:bg-gray-700 hover:text-white group flex items-center px-4 py-3 font-medium rounded-md"
                        >
                        <svg class="text-gray-400 group-hover:text-gray-300 mr-5 h-10 w-10"
                            viewBox="0 0 512 512"
                            fill="#fff"
                            stroke="#000"
                            stroke-width="2"
                        >
                          <g>
                            <path d="M360.819,282.016c-11.672-0.016-22.359,4.75-29.984,12.406c-7.656,7.625-12.422,18.313-12.422,29.984
                            c0.016,23.406,18.969,42.375,42.406,42.375c23.422,0,42.375-18.984,42.375-42.375c0.016-11.672-4.75-22.359-12.391-29.984
                            C383.163,286.766,372.475,282,360.819,282.016z M360.819,345.484c-11.672-0.016-21.078-9.453-21.094-21.078
                            c0-11.672,9.406-21.094,21.094-21.094c11.656,0,21.078,9.422,21.078,21.094C381.881,336.031,372.459,345.469,360.819,345.484z"
                            />
                            <path
                              d="M126.616,282.016c-11.688-0.016-22.344,4.75-29.984,12.406c-7.656,7.625-12.406,18.313-12.406,29.984
                            c0.016,23.391,18.953,42.375,42.391,42.375c23.422,0,42.391-18.969,42.391-42.375C169.006,300.953,150.022,282.016,126.616,282.016
                            z M126.616,345.484c-11.672-0.016-21.063-9.453-21.078-21.078c0-11.672,9.406-21.094,21.078-21.094
                            c11.656,0.016,21.078,9.422,21.094,21.094C147.694,336.031,138.256,345.469,126.616,345.484z"
                            />
                            <path
                              d="M507.976,226.172c-3.25-3.781-7.984-5.984-12.953-5.984h-104.11c-6.547,0-12.719-3.016-16.734-8.156
                            l-45.875-58.656c-4.031-5.141-10.203-8.156-16.734-8.156H145.334c-7.609,0-14.625,4.078-18.422,10.656l-36.953,64.313H16.991
                            c-5.016,0-9.797,2.219-13.016,6.063s-4.594,8.938-3.719,13.859l6.969,64.5c1.172,10.766,10.234,18.953,21.078,18.969l47.719,0.109
                            v-14.984l-47.672-0.109c-3.203-0.016-5.875-2.406-6.219-5.594l-7.125-65.484l0.453-1.641l1.531-0.688h72.969
                            c5.375,0,10.313-2.875,13.016-7.531l36.938-64.297c1.109-1.953,3.188-3.141,5.422-3.141h166.234c1.891,0,3.75,0.891,4.922,2.391
                            l45.875,58.688c6.938,8.813,17.328,13.891,28.547,13.891h104.11l1.531,0.688l0.516,0.672l0.172-0.297l-17.625,68.688
                            c-0.672,2.766-3.188,4.703-6.063,4.703l-62.172-0.125V324.5l62.141,0.141c9.734,0,18.203-6.563,20.625-15.984l17.641-68.734
                            C512.569,235,511.194,229.969,507.976,226.172z"
                            />
                            <polygon
                              points="177.209,323.891 310.225,324.281 310.225,309.297 177.209,308.922"
                            />
                          </g>
                        </svg>

                      
                        Registered Vehicles
                      </a>

                      </li>
                      <li class="border-b border-gray-500/70">
                        <a
                          href="{% url 'add_new_vehicle' %}"
                          class="text-gray-300 hover:bg-gray-700 hover:text-white group flex items-center px-4 py-3 font-medium rounded-md"
                        >
                                
                        <svg class="text-gray-400 group-hover:text-gray-300 mr-5 h-10 w-10" viewBox="0 0 24 24" fill="#000" xmlns="http://www.w3.org/2000/svg">
                          <path d="M4 7.00005L10.2 11.65C11.2667 12.45 12.7333 12.45 13.8 11.65L20 7" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M13 19H5C3.89543 19 3 18.1046 3 17V7C3 5.89543 3.89543 5 5 5H19C20.1046 5 21 5.89543 21 7V12" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
                          <path d="M18.5 14V16.5M18.5 19V16.5M18.5 16.5H16M18.5 16.5H21" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Add your vehicle
                        </a>
                        
                      </li>
                      
                      <li class="border-b border-gray-500/70">
                        
                        <a
                          href="{% url 'vehicle_booking_approval' %}"
                          class="text-gray-300 hover:bg-gray-700 hover:text-white group flex items-center px-4 py-3 font-medium rounded-md"
                        >
                        
                          <svg
                            class="text-gray-400 group-hover:text-gray-300 mr-5 h-10 w-10"
                            viewBox="0 0 20 20"
                            fill="#000"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <g>
                              <path
                                d="M3.5 0V5M11.5 0V5M3 7.5H6M12 7.5H9M3 10.5H6M9 10.5H12M1.5 2.5H13.5C14.0523 2.5 14.5 2.94772 14.5 3.5V13.5C14.5 14.0523 14.0523 14.5 13.5 14.5H1.5C0.947716 14.5 0.5 14.0523 0.5 13.5V3.5C0.5 2.94772 0.947715 2.5 1.5 2.5Z"
                                stroke="#fff"
                              />
                            </g>
                          </svg> 
                          Booking Approval
                          </a>
                      </li>

                      <li class="border-b border-gray-500/70">
                        <a
                          href="{% url 'buss_logout' %}"
                          class="text-gray-300 hover:bg-gray-700 hover:text-white group flex items-center px-4 py-3 font-medium rounded-md"
                        >
                        
                          Logout</a
                      >
                        </a>
                      </li>
                      
                  {% else %}
                  <li class="border-b border-gray-500/70">
                    <a
                      href="{% url 'login_and_registration' %}"
                      class="text-gray-300 hover:bg-gray-700 hover:text-white group flex items-center px-4 py-3 font-medium rounded-md"
                    >
                    Login OR Registration
                        
                    </a
                  >
                    </a>
                  </li>
                    
                  {% endif %}
                </ul>
                <div aria-expanded="false" class="relative top-[5rem] right-6 px-0 py-2 cursor-pointer rounded-md flex justify-start items-center z-10 ">
                  {% comment %} <button id="sidebar-btn" class="fas fa-bars text-white text-[3rem] font-semibold transition-transform duration-300 ease" aria-label="Toggle Sidebar"></button> {% endcomment %}
                  {% comment %} <div class="absolute bg-black w-5 h-10 rounded-lg"></div> {% endcomment %}
                  <svg class="h-24 w-24 transition-transform duration-300 ease-in" id="sidebar-btn" viewBox="0 0 24 24" fill="#000" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13 15L16 12M16 12L13 9M16 12H8M7.2 20H16.8C17.9201 20 18.4802 20 18.908 19.782C19.2843 19.5903 19.5903 19.2843 19.782 18.908C20 18.4802 20 17.9201 20 16.8V7.2C20 6.0799 20 5.51984 19.782 5.09202C19.5903 4.71569 19.2843 4.40973 18.908 4.21799C18.4802 4 17.9201 4 16.8 4H7.2C6.0799 4 5.51984 4 5.09202 4.21799C4.71569 4.40973 4.40973 4.71569 4.21799 5.09202C4 5.51984 4 6.07989 4 7.2V16.8C4 17.9201 4 18.4802 4.21799 18.908C4.40973 19.2843 4.71569 19.5903 5.09202 19.782C5.51984 20 6.07989 20 7.2 20Z" 
                      stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
              </div>
                
            </nav>
          {% endblock left_sidebar_main %}
          <!-- Main Content -->

          {% block main_content %}
            <main class="flex-1 p-6">
              <main class="flex-grow p-6">
                <div class="!px-7 mx-1">
                  <h2 class="text-4xl font-semibold text-gray-800 mb-4">
                    Dashboard Overview
                  </h2>

                  <!-- Stats Grid -->
                  <div
                    class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8"
                  >
                  

                    <div class="bg-white p-10 rounded-lg shadow-md">
                      <h3 class="text-3xl font-semibold text-gray-700 mb-3">
                        Total Revenue
                      </h3>
                      <p class="text-3xl font-bold text-blue-600 mb-2">
                        <span class="text-4xl font-sans">₹</span>
                        {% if total_revenue %} {{ total_revenue }} {% else %} 0 {% endif %}
                      </p>
                      {% comment %} <p class="text-2xl text-gray-500">+0% from last month</p> {% endcomment %}
                    </div>
                    <div class="bg-white p-10 rounded-lg shadow-md">
                      <h3 class="text-3xl font-semibold text-gray-700 mb-3">
                        My Vehicles
                      </h3>
                      <p class="text-3xl font-bold text-green-600 mb-2">{% if registered_vehicles_count %} {{ registered_vehicles_count }} {% else %} 0 {% endif %}</p>
                      {% comment %} <p class="text-2xl text-gray-500">+0% from last month</p> {% endcomment %}
                    </div>
                    <div class="bg-white p-10 rounded-lg shadow-md">
                      <h3 class="text-3xl font-semibold text-gray-700 mb-3">
                        Active Bookings
                      </h3>
                      <p class="text-3xl font-bold text-yellow-600 mb-2">{% if fetch_booked_vdata %} {{ fetch_booked_vdata|length }} {% else %} 0 {% endif %}</p>
                      {% comment %} <p class="text-2xl text-gray-500">+0% from last month</p> {% endcomment %}
                    </div>
                    <div class="bg-white p-10 rounded-lg shadow-md">
                      <h3 class="text-3xl font-semibold text-gray-700 mb-3">
                        Pending
                      </h3>
                      <p class="text-3xl font-bold text-purple-600 mb-2">{% if pending_count %} {{ pending_count }} {% else %} 0 {% endif %}</p>
                      {% comment %} <p class="text-2xl text-gray-500">+0% from last month</p> {% endcomment %}
                    </div>
                    <div class="bg-white p-10 rounded-lg shadow-md">
                      <h3 class="text-3xl font-semibold text-gray-700 mb-3">
                        Approved
                      </h3>
                      <p class="text-3xl font-bold text-purple-600 mb-2">{% if approved_count %} {{ approved_count }} {% else %} 0 {% endif %}</p>
                      {% comment %} <p class="text-2xl text-gray-500">+0% from last month</p> {% endcomment %}
                    </div>
                    <div class="bg-white p-10 rounded-lg shadow-md">
                      <h3 class="text-3xl font-semibold text-gray-700 mb-3">
                        Rejected
                      </h3>
                      <p class="text-3xl font-bold text-purple-600 mb-2">{% if rejected_count %} {{ rejected_count }} {% else %} 0 {% endif %}</p>
                      {% comment %} <p class="text-2xl text-gray-500">+0% from last month</p> {% endcomment %}
                    </div>
                    <div class="bg-white p-10 rounded-lg shadow-md">
                      <h3 class="text-3xl font-semibold text-gray-700 mb-3">
                        Cancelled by Customer
                      </h3>
                      <p class="text-3xl font-bold text-purple-600 mb-2">{% if canceled_count %} {{ canceled_count }} {% else %} 0 {% endif %}</p>
                      {% comment %} <p class="text-2xl text-gray-500">+0% from last month</p> {% endcomment %}
                    </div>
                    
                  </div>

                  
                  
                  
                  <!-- Charts and Tables -->
                  <div class="grid grid-cols-1 gap-8">

                    <!-- Recent Sales Table -->
                    <div class="bg-white p-8 rounded-lg shadow-md">
                      <h3 class="text-3xl font-semibold text-gray-700 mb-2">
                        Recent booking request
                      </h3>
                      <table class="w-full">
                        <thead>
                          <tr
                            class="text-left py-4 text-2xl font-semibold text-gray-500 uppercase"
                          >
                            <th class="py-4 px-4">ID</th>
                            <th class="py-4">Customer</th>
                            <th class="py-4">Vehicle ID</th>
                            <th class="py-4">Vehicle Name</th>
                            <th class="py-4">Status</th>
                            <th class="py-4">To</th>
                            <th class="py-4">Booking Date</th>
                            <th class="py-4">Is Cancelled</th>
                            <th class="py-4">Amount</th>
                          </tr>
                        </thead>
                        <tbody class="">
                          {% if fetch_booked_vdata %}
                            {% for booked_vehicle in fetch_booked_vdata|slice:":5" %}
                            <tr class="border-t text-xl">
                              <td class="py-4 px-4">
                                <span class=" text-gray-500"
                                  >{{forloop.counter}}</span
                                >
                              </td>
                              <td class="py-4">
                                <div class="flex items-center">
                                  {% comment %} <img
                                    class="h-8 w-8 rounded-full mr-2"
                                    src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                                    alt="Customer avatar"
                                  /> {% endcomment %}
                                  <span class=" font-medium text-gray-900"
                                    >{{ booked_vehicle.login_id }}</span
                                  >
                                </div>
                              </td>
                              <td class="py-4">
                                <span class=" text-gray-500"
                                  >{{booked_vehicle.vehicle_id.buss_vehicle_id}}</span
                                >
                              </td>
                              <td class="py-4">
                                <span class=" text-gray-500"
                                  >{{booked_vehicle.vehicle_id.buss_vehicle_company_name}} - {{booked_vehicle.vehicle_id.buss_vehicle_model}}</span
                                >
                              </td>
                              
                              {% if booked_vehicle.status == 'pending' %}
                                <td class="py-4 flex items-center text-yellow-300 font-semibold">
                                  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="20" height="20" viewBox="0 0 48 48">
                                    <path fill="#ffe082" d="M44,24c0,11.045-8.955,20-20,20S4,35.045,4,24S12.955,4,24,4S44,12.955,44,24z"></path>
                                    <path fill="none" stroke="#ffa000" stroke-width="4" stroke-linecap="round" d="M24,14 L24,28 M24,34 L24,36"></path>
                                  </svg>{{booked_vehicle.status}}
                                  {% comment %} <span class="py-2 font-semibold text-gray-900"></span> {% endcomment %}
                                </td>
                              {% elif booked_vehicle.status == 'approved' %}
                                <td class="py-4 flex items-center text-lime-600 font-semibold">
                                  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="20" height="20" viewBox="0 0 48 48" class="">
                                    <path fill="#c8e6c9" d="M44,24c0,11.045-8.955,20-20,20S4,35.045,4,24S12.955,4,24,4S44,12.955,44,24z"></path><path fill="#4caf50" d="M34.586,14.586l-13.57,13.586l-5.602-5.586l-2.828,2.828l8.434,8.414l16.395-16.414L34.586,14.586z"></path>
                                  </svg>
                                  {{booked_vehicle.status}}
                                </td>
                              {% else %}
                                <td class="py-4 flex items-center text-red-800 font-semibold">
                                  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="20" height="20" viewBox="0 0 48 48">
                                    <path fill="#ffcdd2" d="M44,24c0,11.045-8.955,20-20,20S4,35.045,4,24S12.955,4,24,4S44,12.955,44,24z"></path>
                                    <path fill="none" stroke="#f44336" stroke-width="4" stroke-linecap="round" d="M16,16 L32,32 M32,16 L16,32"></path>
                                  </svg>
                                  {{booked_vehicle.status}}
                                </td>
                              {% endif %}
                              

                              <td class="py-4">
                                <span class=" font-semibold text-gray-900"
                                  >{{booked_vehicle.from_to}}</span
                                >
                              </td>
                              
                              <td class="py-4">
                                <span class=" font-semibold text-gray-900"
                                  >{{booked_vehicle.booking_date}}</span
                                >
                              </td>
                               
                              {% if booked_vehicle.is_cancelled %}
                                <td class="py-4 flex items-center text-red-700 font-semibold">
                                  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="20" height="20" viewBox="0 0 48 48">
                                    <path fill="#ffccbc" d="M44,24c0,11.045-8.955,20-20,20S4,35.045,4,24S12.955,4,24,4S44,12.955,44,24z"></path>
                                    <path fill="#d32f2f" d="M34.586,14.586l-13.57,13.586l-5.602-5.586l-2.828,2.828l8.434,8.414l16.395-16.414L34.586,14.586z"></path>
                                  </svg>
                                  Cancelled
                              </td>
                              {% else %}
                                <td class="py-4 flex items-center text-green-600 font-semibold">
                                  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="20" height="20" viewBox="0 0 48 48">
                                    <path fill="#c8e6c9" d="M44,24c0,11.045-8.955,20-20,20S4,35.045,4,24S12.955,4,24,4S44,12.955,44,24z"></path>
                                    <path fill="none" stroke="#4caf50" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" d="M16,16 L32,32 M32,16 L16,32"></path>
                                  </svg>
                                  Not Cancelled
                                </td>
                              {% endif %}

                                
                              
                              <td class="py-4 ">
                                <div class=" flex justify-normal items-center">
                                <span class="text-3xl font-medium font-sans">₹</span>
                                <span class="text-2xl font-bold text-gray-900 font-sans"
                                  >{{booked_vehicle.amount}}</span>
                                </div>
                              </td>

                            </tr>

                            {% endfor %}
                            
                            {% else %}
                            <tr class="border-t">
                              <td class="py-4">
                                <div class="flex items-center">
                                  {% comment %} <img
                                    class="h-8 w-8 rounded-full mr-2"
                                    src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                                    alt="Customer avatar"
                                  /> {% endcomment %}
                                  <span class=" font-medium text-gray-900"
                                    >-</span
                                  >
                                </div>
                              </td>
                              <td class="py-4">
                                <span class=" text-gray-500"
                                  >-</span
                                >
                              </td>
                              <td class="py-4">
                                <span class=" font-semibold text-gray-900"
                                  >-</span
                                >
                              </td>
                            </tr>
                          {% endif %}
                        </tbody>
                      </table>
                    </div>
                  </div>
                  
                  
                </div>

                
                {% if request.session.buss_log_user %}
                {% if fetch_buss_vehicle %}
                {% comment %}  {% endcomment %}
                <div class="bg-gray-50 top-[10rem] px-0 flex flex-col flex-1 items-center" id="">
                    <h1 class="flex mt-4 justify-center text-[4rem] text-black/80 font-semibold">Your Vehicles</h1>
                    <div class="!h-fit">
                        <div class="flex flex-col w scroll-smooth">
                            {% for vdata in fetch_buss_vehicle %}
                              {% if vdata.buss_vehicle_owner  %}
                                  <form action="{% url 'registered_vehicle_details' %}" method="post">
                                      {% csrf_token %}
                                      <input type="hidden" name="vehicle_id" value={{ vdata.id }} hidden/>
          
                                      <div class=" box relative flex flex-row m-10 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-md ">
                                          <div class="relative mx-3 mt-3 flex h-60 overflow-hidden rounded-xl" href="/vehicle/checkout/">
                                              <img class="object-contain rounded-xl" src="/media/{{ vdata.buss_vehicle_photo}} " alt="" width="300" height="200" />
                                              {% comment %} <span class="absolute top-0 left-0 m-2 rounded-full bg-black px-2 text-center text-sm font-medium text-white">39% OFF</span> {% endcomment %}
                                          </div>
                                          <div class="flex flex-col border-l justify-evenly  w-[100%] px-2 py-3 gap-2">
                                              <div class="flex flex-col justify-evenly px-3 gap-2">
                                                  <h5 class="font-semibold text-2xl tracking-tight text-slate-900">{{ vdata.buss_vehicle_id }}</h5>
                                                  <h5 class="font-semibold text-2xl tracking-tight text-slate-900">{{ vdata.buss_vehicle_company_name }} - {{ vdata.buss_vehicle_model|slice:":7" }}</h5>
                                                  <h5 class="font-semibold text-2xl tracking-tight text-slate-900">{{ vdata.buss_vehicle_type }}</h5>
                                              </div>
                                              <div class="flex px-3 my-2 items-center justify-end">
                                                  <p>
                                                      <span class="text-3xl font-bold text-slate-900"><span class="font-sans">₹</span>{{ vdata.buss_rent_per_day }}/-</span>
                                                      <span class="text-lg text-slate-900 line-through"><span class="font-sans">₹</span>{{ vdata.buss_rent_per_day | add:"1200" }}</span>
                                                  </p>
                                                  {% comment %} <div class="flex items-center">
                                                      <svg aria-hidden="true" class="h-5 w-5 text-yellow-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                                      <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                                                      </svg>
                                                      <svg aria-hidden="true" class="h-5 w-5 text-yellow-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                                      <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                                                      </svg>
                                                      <svg aria-hidden="true" class="h-5 w-5 text-yellow-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                                      <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                                                      </svg>
                                                      <svg aria-hidden="true" class="h-5 w-5 text-yellow-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                                      <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                                                      </svg>
                                                      <svg aria-hidden="true" class="h-5 w-5 text-yellow-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                                      <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                                                      </svg>
                                                      <span class="mr-2 ml-3 rounded bg-yellow-200 px-2.5 py-0.5 text-xs font-semibold">5.0</span>
                                                  </div> {% endcomment %}
                                              </div>   
                                          
                                          
                                              <div class="flex flex-row items-center justify-evenly px-3 text-center gap-[1.5rem]">
                                                  <a href="{{ vdata.id }}" class="flex items-center gap-3 justify-center rounded-md px-[.7rem] py-2 text-3xl font-medium text-white bg-red-600  hover:bg-red-600/80 focus:outline-none focus:ring-4 focus:ring-red-300">
                                                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                                                          <path d="M5.5 5.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0v-6a.5.5 0 0 1 .5-.5zm2.5.5a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0v-6zm3 .5a.5.5 0 0 1 .5-.5v6a.5.5 0 0 1-1 0v-6a.5.5 0 0 1 .5-.5z"/>
                                                          <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9.5a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h3.5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1H14a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13.5a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                                                      </svg>
                                                      <p>remove vehicle</p>
                                                  </a>
                                                  
                                                  
                                                  <div class="flex items-center gap-3 justify-center cursor-pointer rounded-md  px-[.7rem] py-2 text-3xl font-medium text-white bg-slate-900 hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-blue-300">
                                                      <button type="submit" class="flex justify-center items-center  gap-3" value="Vehicle Details">
                                                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                                                              <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                                                              <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                                                          </svg>
                                                          Vehicle Details
                                                      </button>
                                                  </div>
                                                  
                                              </div>
                                          </div>
                                      </div>
          
                                  
                                  </form>   
                                  
                              {% endif %}
                            {% endfor %}
                                    
                        </div>
                        <div class="swiper-pagination"></div>
                    </div>
                </div> 
                {% else %}
                <div class="bg-gray-50 top-[10rem] px-0 flex flex-col flex-1 items-center" id="">
                    <div class="flex flex-col relative top-[10rem] items-center justify-center text-center space-y-6 py-[5rem] bg-white border rounded-lg shadow-sm">
                        
                    
                        <!-- Message Header -->
                        <h2 class="text-3xl lg:text-4xl xl:text-5xl font-bold text-gray-800">
                            No Vehicles Found
                        </h2>
                    
                        <!-- Message Description -->
                        <p class="text-gray-600 max-w-3xl text-3xl py-5">
                            You haven’t registered any vehicles yet. List your first vehicle now to make it available for rentals.
                        </p>
                    
                        <!-- Action Button -->
                        <a href="{% url 'add_new_vehicle' %}" 
                            class="px-6 py-4 bg-blue-600 text-white text-3xl font-medium rounded-md shadow-lg hover:bg-blue-700 hover:shadow-xl transition-all">
                            Register Your First Vehicle
                        </a>
                    </div>
                  </div>
                {% endif %}      
            {% endif %}
        
                
               
              </main>
            </main>
          {% endblock main_content %}
        </div>
      </div>

      
    {% endblock main_container %} 


    {% block scripts %}
    <script>
      const navToggle = document.getElementById("nav-toggle");
      const mobileNav = document.getElementById("mobile-nav");
      const menuIcon = document.getElementById("menu-icon");
      const closeIcon = document.getElementById("close-icon");
    
      navToggle.addEventListener("click", () => {
        const isOpen = mobileNav.classList.contains("translate-x-0");
        mobileNav.classList.toggle("translate-x-0");
        mobileNav.classList.toggle("-translate-x-full");
        menuIcon.classList.toggle("hidden");
        closeIcon.classList.toggle("hidden");
      });
    </script>

    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
    <script src=" {% static 'js/script.js' %} "></script>
    <script src=" {% static 'js/buss_script.js' %} "></script>
    <script src=" {% static 'js/passvalid.js' %} "></script>
    <script src=" {% static 'js/uiconscript.js' %} "></script>
    {% endblock scripts %}
  </body>
</html>
